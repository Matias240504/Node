<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Manejar logout
        const logoutBtn = document.getElementById('logoutBtn');
        if (logoutBtn) {
            logoutBtn.addEventListener('click', function() {
                localStorage.removeItem('token');
                localStorage.removeItem('userData');
                document.cookie = 'token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
                window.location.href = '/auth/login';
            });
        }
        
        // Mostrar fecha actual
        const currentDateElement = document.getElementById('currentDate');
        if (currentDateElement) {
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const today = new Date();
            currentDateElement.textContent = today.toLocaleDateString('es-ES', options);
        }
        
        // Función para formatear fechas
        window.formatDate = function(dateString) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('es-ES', options);
        };
        
        // Función para formatear estado
        window.formatStatus = function(status) {
            const statusMap = {
                'activo': 'Activo',
                'inactivo': 'Inactivo',
                'pendiente': 'Pendiente',
                'bloqueado': 'Bloqueado'
            };
            
            return statusMap[status] || status;
        };
        
        // Función para formatear rol
        window.formatRole = function(role) {
            const roleMap = {
                'juez': 'Juez',
                'abogado': 'Abogado',
                'cliente': 'Cliente'
            };
            
            return roleMap[role] || role;
        };
    });
</script>
<script src="/js/logout.js"></script>
